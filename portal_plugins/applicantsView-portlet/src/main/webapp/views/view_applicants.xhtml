<f:view
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
	
>
	<h:head />
	<h:body>
	
	   <h:form id="searchApplicant">
		   		<h:outputLabel value="Search For an Applicant " style="text-decoration:underline"/><br/><br/>
		   		<h:outputLabel value="Enter the firstName of the applicant to be searched:"/><br/>
		   		<p:inputText id="searchTerm" value="#{applicantsViewModelBean.firstName}" /><br/>
		   		<p:commandButton value="Search" action="#{applicantsViewModelBean.getAllApplicants}" ajax="false"/>
		</h:form><br/> 
		
		<h:form id="form">
			<p:dataTable value="#{applicantsViewModelBean.allApplicants}" var="user"
			    rowKey="#{user.applicantId}"
			    emptyMessage="Their are no applicants to view"
				editable="true" rows="5" paginator="true"
				paginatorPosition="bottom" selection="#{applicantsViewModelBean.selectedUser}" selectionMode="single">
		 		
		 		
				<f:facet name="header">
					<h:outputText value="List of Applicants in the Repository"
						style="font-weight:bold" />
				</f:facet>
				<br />
				<br />
				<br />
				<p:column headerText="Select Applicant">
					<h:commandButton actionListener="#{applicantsViewBackingBean.selectionListener}" image="/images/edit.gif"
						value="#{user}" />
				</p:column>
				<p:column headerText="Preview">
					<h:outputLink
						value="#{liferay.documentLibraryURL}/get_file?p_l_id=#{liferay.themeDisplay.plid}&amp;fileEntryId=#{user.applicantId}">
						<h:outputText value="#{user.fileName}" />
					</h:outputLink>
				</p:column>
				 
				<p:column headerText="First Name" sortBy="#{user.firstName}"
					filterBy="#{user.firstName}" >
					<p:cellEditor>
						<f:facet name="output">
							 	<h:outputText value="#{user.firstName}" />
						</f:facet>
						<f:facet name="input">
							<h:inputText value="#{user.firstName}" />
						</f:facet>
					</p:cellEditor>
					 
				</p:column>
				<p:column headerText="Middle Name" sortBy="#{user.middleName}"
					filterBy="#{user.middleName}" >
					<p:cellEditor>
						<f:facet name="output">
							 
								<h:outputText value="#{user.middleName}" />
							 
						</f:facet>
						<f:facet name="input">
							<h:inputText value="#{user.middleName}" />
						</f:facet>
					</p:cellEditor>
					 
				</p:column>
				<p:column headerText="Last Name" sortBy="#{user.lastName}"
					filterBy="#{user.lastName}" >
					<p:cellEditor>
						<f:facet name="output">
							 
								<h:outputText value="#{user.lastName}" />
							 
						</f:facet>
						<f:facet name="input">
							<h:inputText value="#{user.lastName}" />
						</f:facet>
					</p:cellEditor>
					 
				</p:column>
				<f:facet name="footer">
					<h:outputText value="The End!!!" />
				</f:facet>

			</p:dataTable>
		</h:form>
	</h:body>
</f:view>